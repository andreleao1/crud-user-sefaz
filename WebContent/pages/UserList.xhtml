<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    
     
    <h:head>
    	<title>SEFAZ - Cadastro de usuário</title>
    </h:head>
 
    <h:body>
		 <div class="btn-exit">
         	<p:commandButton styleClass="ui-button-danger" value="Sair" action="#{userListController.exit}"/>
        </div>
        <h1 id="label-user-list">Lista de Usuários</h1>
        <div class="form">
            <div class="btn-new-user">
                <p:commandButton value="Novo" action="#{userListController.loadPageUserForm}"/>
            </div>
            <h:form id="userListDT">
                <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true"/>

                <div class="card">
                    <p:dataTable var="user" value="#{userListController.listUsers}" scrollable="true" scrollHeight="250">
                        <p:column headerText="Name">
                            <h:outputText value="#{user.name}"/>
                        </p:column>
                        <p:column headerText="Email">
                            <h:outputText value="#{user.email}"/>
                        </p:column>
                        <p:column headerText="Telefone">
                        	 <h:outputText value="#{user.phones}"/>                         
                        </p:column>
                        <p:column style="width:3rem;text-align: center">
                            <p:commandButton  action="#{userListController.loadUser}" icon="pi pi-user-edit" title="Editar">
                                <f:setPropertyActionListener value="#{user}" target="#{userListController.selectedUser}"/>
                            </p:commandButton>                            
                        </p:column>
                        <p:column style="width:3rem;text-align: center">
                            <p:commandButton styleClass="ui-button-danger" action="#{userListController.removeUser}" icon="pi pi-user-minus" title="Excluir">
                                <f:setPropertyActionListener value="#{user}" target="#{userListController.selectedUser}"/>
                            </p:commandButton>                            
                        </p:column>
                    </p:dataTable>
                </div>
            </h:form>
        </div>
    </h:body>
    <style>        
        body {
            background-color: #095A75; 
        }
        #label-user-list {
            color:#ffffff;
            font-size: 50px;
            margin-left: 42%;
            margin-right: 22%;
            margin-top: 8%;
        }
        .form {
            background-color:#EBF3EC;
            text-align: center;
            width: 80%;
            padding: 60px;
            margin-top: 2%;
            margin-left: 10%;
            border-style: none;
            border-radius: 1%;            
        }
        .btn-new-user, .btn-exit {
        	margin-top: -10px;
        	margin-bottom: 15px;
        	margin-left: 95%;
        }
    </style>
</html>
